!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/forms"),require("ionic-angular"),require("rxjs"),require("@angular/common")):"function"==typeof define&&define.amd?define("ionic-selectable",["exports","@angular/core","@angular/forms","ionic-angular","rxjs","@angular/common"],t):t(e["ionic-selectable"]={},e.ng.core,e.ng.forms,e.ionicAngular,null,e.ng.common)}(this,function(e,l,t,n,i,o){"use strict";function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,s=n.call(e),l=[];try{for(;(void 0===t||0<t--)&&!(i=s.next()).done;)l.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=s["return"])&&n.call(s)}finally{if(o)throw o.error}}return l}function a(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e}var r=function B(){};r.decorators=[{type:l.Directive,args:[{selector:"[ionicSelectableAddItemTemplate]"}]}],r.ctorParameters=function(){return[]};var c=function F(){};c.decorators=[{type:l.Directive,args:[{selector:"[ionicSelectableCloseButtonTemplate]"}]}],c.ctorParameters=function(){return[]};var m=function D(){};m.decorators=[{type:l.Directive,args:[{selector:"[ionicSelectableFooterTemplate]"}]}],m.ctorParameters=function(){return[]};var p=function A(){};p.decorators=[{type:l.Directive,args:[{selector:"[ionicSelectableGroupEndTemplate]"}]}],p.ctorParameters=function(){return[]};var u=function M(){};u.decorators=[{type:l.Directive,args:[{selector:"[ionicSelectableGroupTemplate]"}]}],u.ctorParameters=function(){return[]};var h=function H(){};h.decorators=[{type:l.Directive,args:[{selector:"[ionicSelectableHeaderTemplate]"}]}],h.ctorParameters=function(){return[]};var d=function w(){};d.decorators=[{type:l.Directive,args:[{selector:"[ionicSelectableItemEndTemplate]"}]}],d.ctorParameters=function(){return[]};var f=function k(){};f.decorators=[{type:l.Directive,args:[{selector:"[ionicSelectableItemIconTemplate]"}]}],f.ctorParameters=function(){return[]};var I=function j(){};I.decorators=[{type:l.Directive,args:[{selector:"[ionicSelectableItemTemplate]"}]}],I.ctorParameters=function(){return[]};var g=function R(){};g.decorators=[{type:l.Directive,args:[{selector:"[ionicSelectableMessageTemplate]"}]}],g.ctorParameters=function(){return[]};var _=function G(){};_.decorators=[{type:l.Directive,args:[{selector:"[ionicSelectablePlaceholderTemplate]"}]}],_.ctorParameters=function(){return[]};var C=function L(){};C.decorators=[{type:l.Directive,args:[{selector:"[ionicSelectableSearchFailTemplate]"}]}],C.ctorParameters=function(){return[]};var b=function W(){};b.decorators=[{type:l.Directive,args:[{selector:"[ionicSelectableTitleTemplate]"}]}],b.ctorParameters=function(){return[]};var v=function N(){};v.decorators=[{type:l.Directive,args:[{selector:"[ionicSelectableValueTemplate]"}]}],v.ctorParameters=function(){return[]};var y=function q(){};y.decorators=[{type:l.Directive,args:[{selector:"[ionicSelectableIconTemplate]"}]}],y.ctorParameters=function(){return[]};var T=(Object.defineProperty(S.prototype,"_isMultipleCssClass",{get:function(){return this.isMultiple},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"_hasValueCssClass",{get:function(){return this.hasValue()},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"_hasPlaceholderCssClass",{get:function(){return this._hasPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"_shouldStoreItemValue",{get:function(){return this.shouldStoreItemValue&&this._hasObjects},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"searchText",{get:function(){return this._searchText},set:function(e){this._searchText=e,this._setHasSearchText()},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"isSearching",{get:function(){return this._isSearching},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"hasSearchText",{get:function(){return this._hasSearchText},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e,this._valueItems.splice(0,this._valueItems.length),this.isMultiple?e&&e.length&&Array.prototype.push.apply(this._valueItems,e):this._isNullOrWhiteSpace(e)||this._valueItems.push(e),this._setIonItemHasValue(),this._setHasPlaceholder()},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"isEnabled",{get:function(){return this._isEnabled},set:function(e){this._isEnabled=!!e,this.enableIonItem(this._isEnabled)},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"shouldBackdropClose",{get:function(){return this._shouldBackdropClose},set:function(e){this._shouldBackdropClose=!!e},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"isOpened",{get:function(){return this._isOpened},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"hasConfirmButton",{get:function(){return this._hasConfirmButton},set:function(e){this._hasConfirmButton=!!e,this._countFooterButtons()},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"isOnSearchEnabled",{get:function(){return this._isOnSearchEnabled},set:function(e){this._isOnSearchEnabled=!!e},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"canClear",{get:function(){return this._canClear},set:function(e){this._canClear=!!e,this._countFooterButtons()},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"isMultiple",{get:function(){return this._isMultiple},set:function(e){this._isMultiple=!!e,this._countFooterButtons()},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"itemsToConfirm",{get:function(){return this._itemsToConfirm},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"canAddItem",{get:function(){return this._canAddItem},set:function(e){this._canAddItem=!!e,this._countFooterButtons()},enumerable:!0,configurable:!0}),S.prototype.initFocus=function(){},S.prototype.enableIonItem=function(e){this.ionItem&&this.ionItem.setElementClass("item-input-disabled",!e)},S.prototype._click=function(e){var t=this;this.isEnabled&&0!==e.detail&&(this._label=this._getLabelText(),e.preventDefault(),e.stopPropagation(),this.open().then(function(){t.onOpen.emit({component:t})}))},S.prototype._isNullOrWhiteSpace=function(e){return null===e||e===undefined||e.toString().replace(/\s/g,"").length<1},S.prototype._setHasSearchText=function(){this._hasSearchText=!this._isNullOrWhiteSpace(this._searchText)},S.prototype._hasOnSearch=function(){return this.isOnSearchEnabled&&0<this.onSearch.observers.length},S.prototype._hasOnSaveItem=function(){return this.canSaveItem&&0<this.onSaveItem.observers.length},S.prototype._hasOnAddItem=function(){return this.canAddItem&&0<this.onAddItem.observers.length},S.prototype._hasOnDeleteItem=function(){return this.canDeleteItem&&0<this.onDeleteItem.observers.length},S.prototype._emitValueChange=function(){this.propagateOnChange(this.value),this._setIonItemValidityClasses(),this.onChange.emit({component:this,value:this.value})},S.prototype._emitSearch=function(){this.canSearch&&this.onSearch.emit({component:this,text:this._searchText})},S.prototype._emitOnSelect=function(e,t){this.onSelect.emit({component:this,item:e,isSelected:t})},S.prototype._emitOnClear=function(e){this.onClear.emit({component:this,items:e})},S.prototype._emitOnSearchSuccessOrFail=function(e){var t={component:this,text:this._searchText};e?this.onSearchSuccess.emit(t):this.onSearchFail.emit(t)},S.prototype._formatItem=function(e){return this._isNullOrWhiteSpace(e)?null:this.itemTextField?e[this.itemTextField]:e.toString()},S.prototype._formatValueItem=function(t){var n=this;if(this._shouldStoreItemValue){var e=this.items.find(function(e){return e[n.itemValueField]===t});return this._formatItem(e)}return this._formatItem(t)},S.prototype._getItemValue=function(e){return this._hasObjects?e[this.itemValueField]:e},S.prototype._getStoredItemValue=function(e){return this._hasObjects?this._shouldStoreItemValue?e:e[this.itemValueField]:e},S.prototype._filterItems=function(){var n=this;if(this._setHasSearchText(),this._hasOnSearch())this._emitSearch();else{var i=[];if(this._searchText&&this._searchText.trim()){var o=this._searchText.trim().toLowerCase();this._groups.forEach(function(e){var t=e.items.filter(function(e){return-1!==(n.itemTextField?e[n.itemTextField]:e).toString().toLowerCase().indexOf(o)});t.length&&i.push({value:e.value,text:e.text,items:t})}),i.length||i.push({items:[]})}else i=this._groups;this._filteredGroups=i,this._hasFilteredItems=!this._areGroupsEmpty(i),this._emitOnSearchSuccessOrFail(this._hasFilteredItems)}},S.prototype._isItemDisabled=function(t){var n=this;if(this.disabledItems)return this.disabledItems.some(function(e){return n._getItemValue(e)===n._getItemValue(t)})},S.prototype._isItemSelected=function(t){var n=this;return this._selectedItems.find(function(e){return n._getItemValue(t)===n._getStoredItemValue(e)})!==undefined},S.prototype._addSelectedItem=function(e){this._shouldStoreItemValue?this._selectedItems.push(this._getItemValue(e)):this._selectedItems.push(e)},S.prototype._deleteSelectedItem=function(n){var i,o=this;this._selectedItems.forEach(function(e,t){o._getItemValue(n)===o._getStoredItemValue(e)&&(i=t)}),this._selectedItems.splice(i,1)},S.prototype._saveItem=function(e,t){e.stopPropagation(),this._itemToAdd=t,this._hasOnSaveItem()?this.onSaveItem.emit({component:this,item:this._itemToAdd}):this.showAddItemTemplate()},S.prototype._deleteItemClick=function(e,t){e.stopPropagation(),this._itemToAdd=t,this._hasOnDeleteItem()?this.onDeleteItem.emit({component:this,item:this._itemToAdd}):this.deleteItem(this._itemToAdd)},S.prototype._addItemClick=function(){this._itemToAdd=null,this._hasOnAddItem()?this.onAddItem.emit({component:this}):this.showAddItemTemplate()},S.prototype._close=function(){var e=this;this._modalComponent._searchbarComponent&&this._modalComponent._searchbarComponent._fireBlur(),setTimeout(function(){e.close().then(function(){e.onClose.emit({component:e})}),e._hasOnSearch()||(e._searchText="",e._setHasSearchText())})},S.prototype._clear=function(){var e=this,t=this._selectedItems;this.clear(),this._emitValueChange(),this._emitOnClear(t),this.close().then(function(){e.onClose.emit({component:e})})},S.prototype._getMoreItems=function(e){this._infiniteScroll=e,this.onInfiniteScroll.emit({component:this,text:this._searchText})},S.prototype._setItemsToConfirm=function(e){this._itemsToConfirm=[].concat(e)},S.prototype._doSelect=function(e){this.value=e,this._emitValueChange()},S.prototype._select=function(e){var t=this._isItemSelected(e);this.isMultiple?(t?this._deleteSelectedItem(e):this._addSelectedItem(e),this._setItemsToConfirm(this._selectedItems),this._emitOnSelect(e,!t)):this.hasConfirmButton||this.footerTemplate?(this._selectedItems=[],t?this._deleteSelectedItem(e):this._addSelectedItem(e),this._setItemsToConfirm(this._selectedItems),this._emitOnSelect(e,!t)):(t||(this._selectedItems=[],this._addSelectedItem(e),this._emitOnSelect(e,!0),this._shouldStoreItemValue?this._doSelect(this._getItemValue(e)):this._doSelect(e)),this._close())},S.prototype._confirm=function(){this.confirm(),this._close()},S.prototype._getLabelText=function(){var e=this.ionItem?this.ionItem.getNativeElement().querySelector("ion-label"):null;return e?e.textContent:null},S.prototype._areGroupsEmpty=function(e){return 0===e.length||e.every(function(e){return!e.items||0===e.items.length})},S.prototype._countFooterButtons=function(){var e=0;this.canClear&&e++,(this.isMultiple||this._hasConfirmButton)&&e++,this.canAddItem&&e++,this._footerButtonsCount=e},S.prototype._setItems=function(e){var i=this,o=[{items:e||[]}];e&&e.length&&this._hasGroups&&(o=[],e.forEach(function(e){var t=i._getPropertyValue(e,i.groupValueField),n=o.find(function(e){return e.value===t});n?n.items.push(e):o.push({value:t,text:i._getPropertyValue(e,i.groupTextField),items:[e]})})),this._groups=o,this._filteredGroups=this._groups,this._hasFilteredItems=!this._areGroupsEmpty(this._filteredGroups)},S.prototype._getPropertyValue=function(e,t){return t?t.split(".").reduce(function(e,t){return e?e[t]:null},e):null},S.prototype._setIonItemHasFocus=function(e){this.ionItem&&this.ionItem.setElementClass("item-input-has-focus",e)},S.prototype._setIonItemHasValue=function(){this.ionItem&&this.ionItem.setElementClass("item-input-has-value",this.hasValue())},S.prototype._setHasPlaceholder=function(){this._hasPlaceholder=!(this.hasValue()||this._isNullOrWhiteSpace(this.placeholder)&&!this.placeholderTemplate)},S.prototype._setIonItemValidityClasses=function(){var t=this;this.ionItem&&requestAnimationFrame(function(){var e=t.element.nativeElement.classList;t.ionItem.setElementClass("ng-invalid",!1),t.ionItem.setElementClass("ng-valid",!1),t.ionItem.setElementClass("ng-touched",!1),t.ionItem.setElementClass("ng-untouched",!1),t.ionItem.setElementClass("ng-dirty",!1),t.ionItem.setElementClass("ng-pristine",!1),e.forEach(function(e){"ng-invalid"===e&&t.ionItem.setElementClass("ng-invalid",!0),"ng-valid"===e&&t.ionItem.setElementClass("ng-valid",!0),"ng-touched"===e&&t.ionItem.setElementClass("ng-touched",!0),"ng-untouched"===e&&t.ionItem.setElementClass("ng-untouched",!0),"ng-dirty"===e&&t.ionItem.setElementClass("ng-dirty",!0),"ng-pristine"===e&&t.ionItem.setElementClass("ng-pristine",!0)})})},S.prototype._toggleAddItemTemplate=function(e){this.addItemTemplate&&(this._isAddItemTemplateVisible=e,this._isFooterVisible=!e)},S.prototype.writeValue=function(e){this.value=e,this._setIonItemValidityClasses()},S.prototype.registerOnChange=function(e){this.propagateOnChange=e},S.prototype.registerOnTouched=function(e){this.propagateOnTouched=e},S.prototype.setDisabledState=function(e){this.isEnabled=!e},S.prototype.ngOnInit=function(){this._isIos=this._platform.is("ios"),this._isMD=!this._isIos,this._hasObjects=!this._isNullOrWhiteSpace(this.itemValueField),this._hasGroups=Boolean(this._hasObjects&&this.groupValueField&&!this.hasVirtualScroll),this.ionForm.register(this),this.ionItem&&(this.ionItem.setElementClass("item-input",!0),this.ionItem.setElementClass("item-ionic-selectable",!0)),this.enableIonItem(this.isEnabled)},S.prototype.ngOnDestroy=function(){this.ionForm.deregister(this)},S.prototype.ngDoCheck=function(){this._itemsDiffer.diff(this.items)&&(this._setItems(this.items),this.value=this.value,this.onItemsChange.emit({component:this}))},S.prototype.addItem=function(e){var n=this;return this.items.unshift(e),this._addItemObservable&&this._addItemObservable.unsubscribe(),new Promise(function(e,t){n._addItemObservable=n.onItemsChange.asObservable().subscribe(function(){n._addItemObservable.unsubscribe(),e()},function(){n._addItemObservable.unsubscribe(),t()})})},S.prototype.deleteItem=function(t){var n=this,i=this,e=!1;if(this._selectedItems&&(this._selectedItems=this._selectedItems.filter(function(e){return n._getItemValue(t)!==n._getStoredItemValue(e)})),this.value)if(this.isMultiple){var o=this.value.filter(function(e){return e.id!==t.id});o.length!==this.value.length&&(this.value=o,e=!0)}else t===this.value&&(e=!(this.value=null));e&&this._emitValueChange();var s=this.items.filter(function(e){return e.id!==t.id});return this.itemsChange.emit(s),this._setItems(s),this.onItemsChange.emit({component:this}),this._deleteItemObservable&&this._deleteItemObservable.unsubscribe(),new Promise(function(e,t){i._deleteItemObservable=i.onItemsChange.asObservable().subscribe(function(){i._deleteItemObservable.unsubscribe(),e()},function(){i._deleteItemObservable.unsubscribe(),t()})})},S.prototype.hasValue=function(){return this.isMultiple?0!==this._valueItems.length:0!==this._valueItems.length&&!this._isNullOrWhiteSpace(this._valueItems[0])},S.prototype.open=function(){var i=this;return new Promise(function(e,t){if(i._isEnabled&&!i._isOpened){i._filterItems(),i._isOpened=!0;var n={enableBackdropDismiss:i._shouldBackdropClose};i.modalCssClass&&(n.cssClass=i.modalCssClass),i.modalEnterAnimation&&(n.enterAnimation=i.modalEnterAnimation),i.modalLeaveAnimation&&(n.leaveAnimation=i.modalLeaveAnimation),i._modal=i._modalController.create(O,{selectComponent:i},n),i._modal.present().then(function(){i._setIonItemHasFocus(!0),e()}),i._modal.onWillDismiss(function(){i._setIonItemHasFocus(!1)}),i._modal.onDidDismiss(function(e,t){i._isOpened=!1,i._itemsToConfirm=[],"backdrop"===t&&i.onClose.emit({component:i})})}else t("IonicSelectable is disabled or already opened.")})},S.prototype.close=function(){var n=this;return new Promise(function(e,t){n._isEnabled&&n._isOpened?(n.propagateOnTouched(),n._setIonItemValidityClasses(),n._infiniteScroll=null,n._isOpened=!1,n._itemToAdd=null,n._modal.dismiss().then(function(){n._setIonItemHasFocus(!1),n.hideAddItemTemplate(),e()})):t("IonicSelectable is disabled or already closed.")})},S.prototype.clear=function(){this.value=this.isMultiple?[]:null,this._itemsToConfirm=[],this.propagateOnChange(this.value),this._setIonItemValidityClasses()},S.prototype.confirm=function(){this.isMultiple?this._doSelect(this._selectedItems):(this.hasConfirmButton||this.footerTemplate)&&this._doSelect(this._selectedItems[0]||null)},S.prototype.toggleItems=function(e,n){var i=this;if(e){var t=n&&n.length,o=this._groups.reduce(function(e,t){return e.concat(t.items)},[]);this.isMultiple||t||(o=[]),t&&(o=o.filter(function(t){return n.find(function(e){return i._getItemValue(t)===i._getItemValue(e)})!==undefined}),this.isMultiple||o.splice(0,1)),o.forEach(function(e){i._addSelectedItem(e)})}else this._selectedItems=[];this._setItemsToConfirm(this._selectedItems)},S.prototype.scrollToTop=function(){var n=this;return new Promise(function(e,t){n._isOpened?n._modalComponent._content.scrollToTop().then(function(){e()}):t("IonicSelectable content cannot be scrolled.")})},S.prototype.scrollToBottom=function(){var n=this;return new Promise(function(e,t){n._isOpened?n._modalComponent._content.scrollToBottom().then(function(){e()}):t("IonicSelectable content cannot be scrolled.")})},S.prototype.startSearch=function(){this._isEnabled&&this.showLoading()},S.prototype.endSearch=function(){this._isEnabled&&(this.hideLoading(),this._setItems(this.items),this._emitOnSearchSuccessOrFail(this._hasFilteredItems))},S.prototype.enableInfiniteScroll=function(){this._isEnabled&&this._infiniteScroll&&this._infiniteScroll.enable(!0)},S.prototype.disableInfiniteScroll=function(){this._isEnabled&&this._infiniteScroll&&this._infiniteScroll.enable(!1)},S.prototype.endInfiniteScroll=function(){this._isEnabled&&this._infiniteScroll&&(this._infiniteScroll.complete(),this._setItems(this.items))},S.prototype.search=function(e){this._isEnabled&&this._isOpened&&this.canSearch&&(this._searchText=e,this._setHasSearchText(),this._filterItems())},S.prototype.showLoading=function(){this._isEnabled&&(this._isSearching=!0)},S.prototype.hideLoading=function(){this._isEnabled&&(this._isSearching=!1)},S.prototype.showAddItemTemplate=function(){this._toggleAddItemTemplate(!0)},S.prototype.hideAddItemTemplate=function(){this._toggleAddItemTemplate(!1)},S);function S(e,t,n,i,o,s){this._modalController=e,this.ionForm=t,this._platform=n,this.ionItem=i,this._iterableDiffers=o,this.element=s,this._cssClass=!0,this._isOnSearchEnabled=!0,this._isEnabled=!0,this._shouldBackdropClose=!0,this._isOpened=!1,this._value=null,this._canClear=!1,this._hasConfirmButton=!1,this._isMultiple=!1,this._canAddItem=!1,this.onItemsChange=new l.EventEmitter,this._label=null,this._valueItems=[],this._searchText="",this._hasSearchText=!1,this._groups=[],this._itemsToConfirm=[],this._selectedItems=[],this._filteredGroups=[],this._isAddItemTemplateVisible=!1,this._isFooterVisible=!0,this._itemToAdd=null,this._footerButtonsCount=0,this._hasFilteredItems=!1,this.items=[],this.itemsChange=new l.EventEmitter,this.modalCssClass=null,this.modalEnterAnimation=null,this.modalLeaveAnimation=null,this.isConfirmButtonEnabled=!0,this.itemValueField=null,this.itemTextField=null,this.groupValueField=null,this.groupTextField=null,this.canSearch=!1,this.hasInfiniteScroll=!1,this.hasVirtualScroll=!1,this.virtualScrollApproxItemHeight="40px",this.virtualScrollApproxItemWidth="100%",this.virtualScrollBufferRatio=3,this.virtualScrollHeaderFn=function(){return null},this.searchPlaceholder="Search",this.placeholder=null,this.searchFailText="No items found.",this.clearButtonText="Clear",this.addButtonText="Add",this.confirmButtonText="OK",this.closeButtonText="Cancel",this.focusSearchbar=!1,this.headerColor=null,this.groupColor=null,this.onChange=new l.EventEmitter,this.onSearch=new l.EventEmitter,this.onSearchFail=new l.EventEmitter,this.onSearchSuccess=new l.EventEmitter,this.onInfiniteScroll=new l.EventEmitter,this.onOpen=new l.EventEmitter,this.onClose=new l.EventEmitter,this.onSelect=new l.EventEmitter,this.onClear=new l.EventEmitter,this.searchDebounce=250,this.disabledItems=[],this.shouldStoreItemValue=!1,this.canSaveItem=!1,this.canDeleteItem=!1,this.onSaveItem=new l.EventEmitter,this.onDeleteItem=new l.EventEmitter,this.onAddItem=new l.EventEmitter,this.propagateOnChange=function(e){},this.propagateOnTouched=function(){},this.items&&this.items.length||(this.items=[]),this._itemsDiffer=this._iterableDiffers.find(this.items).create()}T.decorators=[{type:l.Component,args:[{selector:"ionic-selectable",template:'<div class="ionic-selectable-value">\n  <div *ngIf="valueTemplate && _valueItems.length && isMultiple"\n    [ngTemplateOutlet]="valueTemplate"\n    [ngTemplateOutletContext]="{ value: _valueItems }">\n  </div>\n  <div class="ionic-selectable-value-item"\n    *ngIf="valueTemplate && _valueItems.length && !isMultiple">\n    <div [ngTemplateOutlet]="valueTemplate"\n      [ngTemplateOutletContext]="{ value: _valueItems[0] }">\n    </div>\n  </div>\n  <span *ngIf="!valueTemplate && _valueItems.length">\n    <div class="ionic-selectable-value-item"\n      *ngFor="let valueItem of _valueItems">\n      {{_formatValueItem(valueItem)}}\n    </div>\n  </span>\n  <div *ngIf="_hasPlaceholder && placeholderTemplate"\n    class="ionic-selectable-value-item">\n    <div [ngTemplateOutlet]="placeholderTemplate">\n    </div>\n  </div>\n  <div class="ionic-selectable-value-item"\n    *ngIf="_hasPlaceholder && !placeholderTemplate">\n    {{placeholder}}\n  </div>\n</div>\n<div *ngIf="iconTemplate" class="ionic-selectable-icon-template">\n  <div [ngTemplateOutlet]="iconTemplate"></div>\n</div>\n<div *ngIf="!iconTemplate" class="ionic-selectable-icon">\n  <div class="ionic-selectable-icon-inner"></div>\n</div>\n<button aria-haspopup="true" ion-button="item-cover" class="item-cover"\n  [disabled]="!isEnabled">\n</button>\n',providers:[{provide:t.NG_VALUE_ACCESSOR,useExisting:l.forwardRef(function(){return T}),multi:!0}]}]}],T.ctorParameters=function(){return[{type:n.ModalController},{type:n.Form},{type:n.Platform},{type:n.Item,decorators:[{type:l.Optional}]},{type:l.IterableDiffers},{type:l.ElementRef}]},T.propDecorators={_cssClass:[{type:l.HostBinding,args:["class.ionic-selectable"]}],_isIos:[{type:l.HostBinding,args:["class.ionic-selectable-ios"]}],_isMD:[{type:l.HostBinding,args:["class.ionic-selectable-md"]}],_isMultipleCssClass:[{type:l.HostBinding,args:["class.ionic-selectable-is-multiple"]}],_hasValueCssClass:[{type:l.HostBinding,args:["class.ionic-selectable-has-value"]}],_hasPlaceholderCssClass:[{type:l.HostBinding,args:["class.ionic-selectable-has-placeholder"]}],items:[{type:l.Input}],itemsChange:[{type:l.Output}],isEnabled:[{type:l.HostBinding,args:["class.ionic-selectable-is-enabled"]},{type:l.Input,args:["isEnabled"]}],shouldBackdropClose:[{type:l.Input,args:["shouldBackdropClose"]}],modalCssClass:[{type:l.Input}],modalEnterAnimation:[{type:l.Input}],modalLeaveAnimation:[{type:l.Input}],isConfirmButtonEnabled:[{type:l.Input,args:["isConfirmButtonEnabled"]}],hasConfirmButton:[{type:l.Input,args:["hasConfirmButton"]}],itemValueField:[{type:l.Input}],itemTextField:[{type:l.Input}],groupValueField:[{type:l.Input}],groupTextField:[{type:l.Input}],canSearch:[{type:l.Input}],isOnSearchEnabled:[{type:l.Input,args:["isOnSearchEnabled"]}],canClear:[{type:l.HostBinding,args:["class.ionic-selectable-can-clear"]},{type:l.Input,args:["canClear"]}],hasInfiniteScroll:[{type:l.Input}],hasVirtualScroll:[{type:l.Input}],virtualScrollApproxItemHeight:[{type:l.Input}],virtualScrollApproxItemWidth:[{type:l.Input}],virtualScrollBufferRatio:[{type:l.Input}],virtualScrollHeaderFn:[{type:l.Input}],searchPlaceholder:[{type:l.Input}],placeholder:[{type:l.Input}],isMultiple:[{type:l.Input,args:["isMultiple"]}],searchFailText:[{type:l.Input}],clearButtonText:[{type:l.Input}],addButtonText:[{type:l.Input}],confirmButtonText:[{type:l.Input}],closeButtonText:[{type:l.Input}],focusSearchbar:[{type:l.Input}],headerColor:[{type:l.Input}],groupColor:[{type:l.Input}],onChange:[{type:l.Output}],onSearch:[{type:l.Output}],onSearchFail:[{type:l.Output}],onSearchSuccess:[{type:l.Output}],onInfiniteScroll:[{type:l.Output}],onOpen:[{type:l.Output}],onClose:[{type:l.Output}],onSelect:[{type:l.Output}],onClear:[{type:l.Output}],valueTemplate:[{type:l.ContentChild,args:[v,{read:l.TemplateRef}]}],itemTemplate:[{type:l.ContentChild,args:[I,{read:l.TemplateRef}]}],itemEndTemplate:[{type:l.ContentChild,args:[d,{read:l.TemplateRef}]}],titleTemplate:[{type:l.ContentChild,args:[b,{read:l.TemplateRef}]}],placeholderTemplate:[{type:l.ContentChild,args:[_,{read:l.TemplateRef}]}],messageTemplate:[{type:l.ContentChild,args:[g,{read:l.TemplateRef}]}],groupTemplate:[{type:l.ContentChild,args:[u,{read:l.TemplateRef}]}],groupEndTemplate:[{type:l.ContentChild,args:[p,{read:l.TemplateRef}]}],closeButtonTemplate:[{type:l.ContentChild,args:[c,{read:l.TemplateRef}]}],searchFailTemplate:[{type:l.ContentChild,args:[C,{read:l.TemplateRef}]}],addItemTemplate:[{type:l.ContentChild,args:[r,{read:l.TemplateRef}]}],footerTemplate:[{type:l.ContentChild,args:[m,{read:l.TemplateRef}]}],headerTemplate:[{type:l.ContentChild,args:[h,{read:l.TemplateRef}]}],itemIconTemplate:[{type:l.ContentChild,args:[f,{read:l.TemplateRef}]}],iconTemplate:[{type:l.ContentChild,args:[y,{read:l.TemplateRef}]}],searchDebounce:[{type:l.Input}],disabledItems:[{type:l.Input}],shouldStoreItemValue:[{type:l.Input}],canSaveItem:[{type:l.Input}],canDeleteItem:[{type:l.Input}],canAddItem:[{type:l.Input,args:["canAddItem"]}],onSaveItem:[{type:l.Output}],onDeleteItem:[{type:l.Output}],onAddItem:[{type:l.Output}],_click:[{type:l.HostListener,args:["click",["$event"]]}]};var O=(Object.defineProperty(E.prototype,"_canClearCssClass",{get:function(){return this.selectComponent.canClear},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"_isMultipleCssClass",{get:function(){return this.selectComponent.isMultiple},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"_isSearchingCssClass",{get:function(){return this.selectComponent._isSearching},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"_isAddItemTemplateVisibleCssClass",{get:function(){return this.selectComponent._isAddItemTemplateVisible},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"_isIos",{get:function(){return this.selectComponent._isIos},enumerable:!0,configurable:!0}),E.prototype._isMD=function(){return this.selectComponent._isMD},E.prototype.ngAfterViewInit=function(){var e=this;this._header=this._element.nativeElement.querySelector("ion-header"),this._searchbarComponent&&this.selectComponent.focusSearchbar&&setTimeout(function(){e._searchbarComponent.setFocus()},1e3)},E);function E(e,t){var n=this;this.navParams=e,this._element=t,this._cssClass=!0,this.selectComponent=this.navParams.get("selectComponent"),(this.selectComponent._modalComponent=this).selectComponent._selectedItems=[],this.selectComponent._isNullOrWhiteSpace(this.selectComponent.value)||(this.selectComponent.isMultiple?this.selectComponent.value.forEach(function(e){n.selectComponent._selectedItems.push(e)}):this.selectComponent._selectedItems.push(this.selectComponent.value)),this.selectComponent._setItemsToConfirm(this.selectComponent._selectedItems)}O.decorators=[{type:l.Component,args:[{selector:"ionic-selectable-modal",template:'<ion-header>\n  <ion-navbar *ngIf="!selectComponent.headerTemplate"\n    [color]="selectComponent.headerColor ? selectComponent.headerColor : null">\n    <ion-title>\n      \x3c!-- Use span for titleTemplate to preserve Ionic ellipsis styles. --\x3e\n      <span *ngIf="selectComponent.titleTemplate"\n        [ngTemplateOutlet]="selectComponent.titleTemplate">\n      </span>\n      <span *ngIf="!selectComponent.titleTemplate">\n        {{selectComponent.label}}\n      </span>\n    </ion-title>\n    <ion-buttons start>\n      <button ion-button (click)="selectComponent._close()">\n        <span *ngIf="selectComponent.closeButtonTemplate"\n          [ngTemplateOutlet]="selectComponent.closeButtonTemplate">\n        </span>\n        <span *ngIf="!selectComponent.closeButtonTemplate" ion-text\n          showWhen="ios">\n          {{selectComponent.closeButtonText}}\n        </span>\n        <ion-icon *ngIf="!selectComponent.closeButtonTemplate" name="md-close"\n          hideWhen="ios">\n        </ion-icon>\n      </button>\n    </ion-buttons>\n  </ion-navbar>\n  <div *ngIf="selectComponent.headerTemplate"\n    [ngTemplateOutlet]="selectComponent.headerTemplate">\n  </div>\n  <ion-toolbar\n    *ngIf="selectComponent.canSearch || selectComponent.messageTemplate">\n    <ion-searchbar *ngIf="selectComponent.canSearch" #searchbarComponent\n      [(ngModel)]="selectComponent._searchText"\n      (ionInput)="selectComponent._filterItems()"\n      [placeholder]="selectComponent.searchPlaceholder"\n      [debounce]="selectComponent.searchDebounce">\n    </ion-searchbar>\n    <div class="ionic-selectable-message"\n      *ngIf="selectComponent.messageTemplate">\n      <div [ngTemplateOutlet]="selectComponent.messageTemplate">\n      </div>\n    </div>\n  </ion-toolbar>\n</ion-header>\n<ion-content>\n  <div class="ionic-selectable-spinner" *ngIf="selectComponent._isSearching">\n    <div class="ionic-selectable-spinner-background"></div>\n    <ion-spinner></ion-spinner>\n  </div>\n  <ion-list no-margin\n    *ngIf="!selectComponent.hasVirtualScroll && selectComponent._hasFilteredItems">\n    <ion-item-group *ngFor="let group of selectComponent._filteredGroups"\n      class="ionic-selectable-group">\n      <ion-item-divider *ngIf="selectComponent._hasGroups"\n        [color]="selectComponent.groupColor ? selectComponent.groupColor : null">\n        \x3c!-- Use span for groupTemplate to preserve Ionic ellipsis styles. --\x3e\n        <span *ngIf="selectComponent.groupTemplate"\n          [ngTemplateOutlet]="selectComponent.groupTemplate"\n          [ngTemplateOutletContext]="{ group: group }">\n        </span>\n        <span *ngIf="!selectComponent.groupTemplate">\n          {{group.text}}\n        </span>\n        <div *ngIf="selectComponent.groupEndTemplate" item-right>\n          <div [ngTemplateOutlet]="selectComponent.groupEndTemplate"\n            [ngTemplateOutletContext]="{ group: group }">\n          </div>\n        </div>\n      </ion-item-divider>\n      <button ion-item detail-none *ngFor="let item of group.items"\n        (click)="selectComponent._select(item)" class="ionic-selectable-item"\n        [ngClass]="{\n          \'ionic-selectable-item-is-selected\': selectComponent._isItemSelected(item),\n          \'ionic-selectable-item-is-disabled\': selectComponent._isItemDisabled(item)\n        }" [disabled]="selectComponent._isItemDisabled(item)">\n        \x3c!-- Use span for itemTemplate to preserve Ionic ellipsis styles. --\x3e\n        <span *ngIf="selectComponent.itemTemplate"\n          [ngTemplateOutlet]="selectComponent.itemTemplate"\n          [ngTemplateOutletContext]="{ item: item, isItemSelected: selectComponent._isItemSelected(item) }">\n        </span>\n        <span *ngIf="!selectComponent.itemTemplate">\n          {{selectComponent._formatItem(item)}}\n        </span>\n        <div *ngIf="selectComponent.itemEndTemplate" item-right>\n          <div [ngTemplateOutlet]="selectComponent.itemEndTemplate"\n            [ngTemplateOutletContext]="{ item: item, isItemSelected: selectComponent._isItemSelected(item) }">\n          </div>\n        </div>\n        <span *ngIf="selectComponent.itemIconTemplate" item-left\n          class="ionic-selectable-item-icon-template"\n          [ngTemplateOutlet]="selectComponent.itemIconTemplate"\n          [ngTemplateOutletContext]="{ item: item, isItemSelected: selectComponent._isItemSelected(item) }">\n        </span>\n        <ion-icon *ngIf="!selectComponent.itemIconTemplate"\n          [name]="selectComponent._isItemSelected(item) ? \'checkmark-circle\' : \'radio-button-off\'"\n          [color]="selectComponent._isItemSelected(item) ? \'primary\' : \'daek\'"\n          item-left>\n        </ion-icon>\n        <button *ngIf="selectComponent.canSaveItem"\n          class="ionic-selectable-item-button" ion-button icon-only item-end\n          outline (click)="selectComponent._saveItem($event, item)">\n          <ion-icon name="md-create"></ion-icon>\n        </button>\n        <button *ngIf="selectComponent.canDeleteItem"\n          class="ionic-selectable-item-button" ion-button icon-only item-end\n          outline (click)="selectComponent._deleteItemClick($event, item)">\n          <ion-icon name="md-trash"></ion-icon>\n        </button>\n      </button>\n    </ion-item-group>\n  </ion-list>\n  \x3c!-- Fail text should be above InfiniteScroll to avoid a gap when no items are found. --\x3e\n  <div *ngIf="!selectComponent._hasFilteredItems">\n    <span *ngIf="selectComponent.searchFailTemplate"\n      [ngTemplateOutlet]="selectComponent.searchFailTemplate">\n    </span>\n    <div *ngIf="!selectComponent.searchFailTemplate" margin>\n      {{selectComponent.searchFailText}}\n    </div>\n  </div>\n  <ion-infinite-scroll *ngIf="!selectComponent.hasVirtualScroll"\n    [enabled]="selectComponent.hasInfiniteScroll"\n    (ionInfinite)="selectComponent._getMoreItems($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n  <ion-list no-margin\n    *ngIf="selectComponent.hasVirtualScroll && selectComponent._hasFilteredItems"\n    [virtualScroll]="selectComponent._filteredGroups[0].items"\n    [approxItemHeight]="selectComponent.virtualScrollApproxItemHeight"\n    [approxItemWidth]="selectComponent.virtualScrollApproxItemWidth"\n    [bufferRatio]="selectComponent.virtualScrollBufferRatio"\n    [headerFn]="selectComponent.virtualScrollHeaderFn">\n    <ion-item-divider *virtualHeader="let header"\n      [color]="selectComponent.groupColor ? selectComponent.groupColor : null">\n      {{header}}\n    </ion-item-divider>\n    <button ion-item detail-none *virtualItem="let item"\n      (click)="selectComponent._select(item)" class="ionic-selectable-item"\n      [ngClass]="{\n        \'ionic-selectable-item-is-selected\': selectComponent._isItemSelected(item),\n        \'ionic-selectable-item-is-disabled\': selectComponent._isItemDisabled(item)\n      }" [disabled]="selectComponent._isItemDisabled(item)">\n      \x3c!-- Use span for itemTemplate to preserve Ionic ellipsis styles. --\x3e\n      <span *ngIf="selectComponent.itemTemplate"\n        [ngTemplateOutlet]="selectComponent.itemTemplate"\n        [ngTemplateOutletContext]="{ item: item, isItemSelected: selectComponent._isItemSelected(item) }">\n      </span>\n      <span *ngIf="!selectComponent.itemTemplate">\n        {{selectComponent._formatItem(item)}}\n      </span>\n      <div *ngIf="selectComponent.itemEndTemplate" item-right>\n        <div [ngTemplateOutlet]="selectComponent.itemEndTemplate"\n          [ngTemplateOutletContext]="{ item: item, isItemSelected: selectComponent._isItemSelected(item) }">\n        </div>\n      </div>\n      <span *ngIf="selectComponent.itemIconTemplate" item-left\n        class="ionic-selectable-item-icon-template"\n        [ngTemplateOutlet]="selectComponent.itemIconTemplate"\n        [ngTemplateOutletContext]="{ item: item, isItemSelected: selectComponent._isItemSelected(item) }">\n      </span>\n      <ion-icon *ngIf="!selectComponent.itemIconTemplate"\n        [name]="selectComponent._isItemSelected(item) ? \'checkmark-circle\' : \'radio-button-off\'"\n        [color]="selectComponent._isItemSelected(item) ? \'primary\' : \'daek\'"\n        item-left>\n      </ion-icon>\n      <button *ngIf="selectComponent.canSaveItem"\n        class="ionic-selectable-item-button" ion-button icon-only item-end\n        outline (click)="selectComponent._saveItem($event, item)">\n        <ion-icon name="md-create"></ion-icon>\n      </button>\n      <button *ngIf="selectComponent.canDeleteItem"\n        class="ionic-selectable-item-button" ion-button icon-only item-end\n        outline (click)="selectComponent._deleteItemClick($event, item)">\n        <ion-icon name="md-trash"></ion-icon>\n      </button>\n    </button>\n  </ion-list>\n</ion-content>\n<div class="ionic-selectable-add-item-template"\n  *ngIf="selectComponent._isAddItemTemplateVisible"\n  [ngStyle]="{ \'top.px\': _header.offsetHeight }">\n  <span [ngTemplateOutlet]="selectComponent.addItemTemplate"\n    [ngTemplateOutletContext]="{ item: selectComponent._itemToAdd, isAdd: selectComponent._itemToAdd === null }">\n  </span>\n</div>\n<ion-footer\n  *ngIf="selectComponent._footerButtonsCount > 0 || selectComponent.footerTemplate"\n  [ngStyle]="{ \'visibility\': selectComponent._isFooterVisible ? \'initial\' : \'hidden\' }">\n  <ion-toolbar *ngIf="!selectComponent.footerTemplate">\n    <ion-row>\n      <ion-col *ngIf="selectComponent.canClear">\n        <button ion-button full no-margin (click)="selectComponent._clear()"\n          [disabled]="!selectComponent._selectedItems.length">\n          {{selectComponent.clearButtonText}}\n        </button>\n      </ion-col>\n      <ion-col *ngIf="selectComponent.canAddItem">\n        <button ion-button full no-margin\n          (click)="selectComponent._addItemClick()">\n          {{selectComponent.addButtonText}}\n        </button>\n      </ion-col>\n      <ion-col\n        *ngIf="selectComponent.isMultiple || selectComponent.hasConfirmButton">\n        <button ion-button full no-margin (click)="selectComponent._confirm()"\n          [disabled]="!selectComponent.isConfirmButtonEnabled">\n          {{selectComponent.confirmButtonText}}\n        </button>\n      </ion-col>\n    </ion-row>\n  </ion-toolbar>\n  <div *ngIf="selectComponent.footerTemplate"\n    [ngTemplateOutlet]="selectComponent.footerTemplate">\n  </div>\n</ion-footer>\n'}]}],O.ctorParameters=function(){return[{type:n.NavParams},{type:l.ElementRef}]},O.propDecorators={_cssClass:[{type:l.HostBinding,args:["class.ionic-selectable-modal"]}],_canClearCssClass:[{type:l.HostBinding,args:["class.ionic-selectable-modal-can-clear"]}],_isMultipleCssClass:[{type:l.HostBinding,args:["class.ionic-selectable-modal-is-multiple"]}],_isSearchingCssClass:[{type:l.HostBinding,args:["class.ionic-selectable-modal-is-searching"]}],_isAddItemTemplateVisibleCssClass:[{type:l.HostBinding,args:["class.ionic-selectable-modal-is-add-item-template-visible"]}],_isIos:[{type:l.HostBinding,args:["class.ionic-selectable-modal-ios"]}],_isMD:[{type:l.HostBinding,args:["class.ionic-selectable-modal-md"]}],_searchbarComponent:[{type:l.ViewChild,args:["searchbarComponent"]}],_content:[{type:l.ViewChild,args:[n.Content]}]};var x=[T,O],V=[v,I,d,b,_,g,u,p,c,C,r,m,h,f,y],P=function $(){};P.decorators=[{type:l.NgModule,args:[{imports:[o.CommonModule,n.IonicPageModule.forChild(T),n.IonicPageModule.forChild(O)],declarations:a(x,V),exports:a(x,V),entryComponents:x}]}],P.ctorParameters=function(){return[]},e.IonicSelectableAddItemTemplateDirective=r,e.IonicSelectableCloseButtonTemplateDirective=c,e.IonicSelectableFooterTemplateDirective=m,e.IonicSelectableGroupEndTemplateDirective=p,e.IonicSelectableGroupTemplateDirective=u,e.IonicSelectableHeaderTemplateDirective=h,e.IonicSelectableItemEndTemplateDirective=d,e.IonicSelectableItemIconTemplateDirective=f,e.IonicSelectableItemTemplateDirective=I,e.IonicSelectableMessageTemplateDirective=g,e.IonicSelectableModalComponent=O,e.IonicSelectablePlaceholderTemplateDirective=_,e.IonicSelectableSearchFailTemplateDirective=C,e.IonicSelectableTitleTemplateDirective=b,e.IonicSelectableValueTemplateDirective=v,e.IonicSelectableIconTemplateDirective=y,e.IonicSelectableComponent=T,e.IonicSelectableModule=P,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ionic-selectable.umd.min.js.map
