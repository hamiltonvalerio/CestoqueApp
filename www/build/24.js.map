{"version":3,"sources":["../../src/pages/liberar-insumo-controle/liberar-insumo-controle.module.ts","../../src/pages/liberar-insumo-controle/liberar-insumo-controle.ts"],"names":[],"mappings":"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","file":"24.js","sourcesContent":["import { IonicSelectableModule } from 'ionic-selectable';\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LiberarInsumoControlePage } from './liberar-insumo-controle';\n\n@NgModule({\n  declarations: [\n    LiberarInsumoControlePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LiberarInsumoControlePage),\n    IonicSelectableModule,\n  ],\n})\nexport class LiberarInsumoControlePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/liberar-insumo-controle/liberar-insumo-controle.module.ts","import { MovimentacaoService } from './../../services/domain/movimentacao.service';\nimport { LocalizacaoService } from './../../services/domain/localizacao.service';\nimport { InsumomovimentacaoDTO } from './../../models/insumomovimentacao.dto';\nimport { MovimentacaoDTO } from './../../models/movimentacao.dto';\nimport { LocalizacaoDTO } from './../../models/localizacao.dto';\nimport { DateTimeFormatPipe } from './../../utils/date-time-format';\nimport { LocalUser } from './../../models/local_user';\nimport { ColaboradorDTO } from './../../models/colaborador.dto';\nimport { InsumoService } from './../../services/domain/insumo.service';\nimport { ColaboradorService } from './../../services/domain/colaborador.service';\nimport { StorageService } from './../../services/storage.service';\nimport { DateNow } from './../../utils/datenow';\nimport { InsumolocalizacaoDTO } from './../../models/insumolocalizacao.dto';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController, AlertController, LoadingController } from 'ionic-angular';\n\n/**\n * Generated class for the LiberarInsumoControlePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-liberar-insumo-controle',\n  templateUrl: 'liberar-insumo-controle.html',\n})\nexport class LiberarInsumoControlePage {\n\n  localizacoes: LocalizacaoDTO[] = [];\n  localizacao: LocalizacaoDTO;\n  paralocalizacoes: LocalizacaoDTO[] = [];\n  paralocalizacao: LocalizacaoDTO;\n\n  insumosLocalizacoes : InsumolocalizacaoDTO[] = [];\n  insumosLocalizacoesSelecionados : InsumolocalizacaoDTO[];\n  \n  movimentacao: MovimentacaoDTO = {} as MovimentacaoDTO;\n  mov : MovimentacaoDTO = {} as MovimentacaoDTO; \n  itemMov : InsumomovimentacaoDTO;\n\n  movimentacaogrid: MovimentacaoDTO = {} as any; \n  datamovimentacao : string;\n\n  localUser: LocalUser = this.storage.getLocalUser();\n\n  il: InsumolocalizacaoDTO;\n\n  hiddenselect : boolean = true;\n  \n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    public viewCtrl: ViewController,\n    public alertCtrl: AlertController,\n    public formBuilder: FormBuilder,\n    public dateNow: DateNow,\n    public dateTimeFormatPipe: DateTimeFormatPipe,\n    public storage: StorageService,\n    public colaboradorService: ColaboradorService,\n    public insumoService: InsumoService,\n    public localizacaoService: LocalizacaoService,\n    public loadingCtrl: LoadingController,\n    public movimentacaoService: MovimentacaoService,) {\n\n      this.il = navParams.get('item');\n      this.localizacao = this.il.localizacao;\n\n      if(this.localizacao.aprovacao != null){\n        if(this.localizacao.aprovacao == true){\n          this.localizacaoService.findAllLocalizacoesFilhasByLocalizacaoPai(this.localizacao.id).subscribe(resp => {\n            this.localizacoes = resp;\n            this.localizacoes.forEach(val => {\n              if(val.resultado != null){\n                if(val.resultado == true){\n                  this.paralocalizacao = val;\n                  this.hiddenselect = true;\n                }  \n              }\n            });\n          });\n          if(this.paralocalizacao == null){\n            this.hiddenselect = false;\n          }\n        }else{\n          this.hiddenselect = false;\n        }  \n      }else{\n        this.hiddenselect = false;\n      }\n\n\n      this.movimentacao = {} as any;\n      this.itemMov = {\n        insumo: this.il.insumo, \n        quantidadeOrigem: this.il.quantidade,\n        quantidadeMovimentada: 0,\n        loteFornecedor: this.il.loteFornecedor,\n        loteCR: this.il.loteCR,\n        loteProducao: this.il.loteProducao,\n        dataIrradiacao: this.il.dataIrradiacao,\n        dataValidade: this.il.dataValidade,\n        dataAprovacao: this.il.dataAprovacao,\n        dataReproprovacao: this.il.dataReproprovacao,\n        aprovado: this.il.aprovado,\n        fieldsGarantiaQualidade: true,\n        loteRecebimento: this.il.loteRecebimento,\n        loteLEI: this.il.loteLEI,\n        loteARM: this.il.loteARM,\n        irradiado: this.il.irradiado,\n        subloteLEI: this.il.subloteLEI,\n        unidadeRecebida: this.il.unidadeRecebida,\n        quantidadeVolume: this.il.quantidadeVolume,\n        unidadeEntrada: this.il.unidadeEntrada,\n\n        condambamostragemgc: this.il.condambamostragemgc,\n        condambamostragemur: this.il.condambamostragemur,\n        quantidadeDescartada: this.il.quantidadeDescartada,\n\n        show: null,\n\n        armario: this.il.armario,\n        posicao: this.il.posicao,\n        cas: this.il.cas,\n      };\n      \n\n  }\n\n  ionViewDidLoad() {\n    this.datamovimentacao = this.dateNow.getDateNow();\n    this.loadParaLocalizacao();\n  }\n\n  loadParaLocalizacao(){\n    let loader = this.presentLoading();\n    this.localizacaoService.findAll().subscribe((response) => {\n      this.paralocalizacoes = response.sort();\n      loader.dismiss();\n    });\n  }\n\n  presentLoading() {\n    let loader = this.loadingCtrl.create({\n      content: \"Aguarde...\"\n    });\n    loader.present();\n    return loader;\n  }\n\n  dismiss() {\n    this.viewCtrl.dismiss();\n  }\n\n  valida(m : InsumomovimentacaoDTO) {\n    console.log(m)\n    if (m.descartado == true) {\n      m.isDisabledutilizado = true;\n    } else if (m.utilizado == true) {\n      m.isDisableddescartado = true;\n    } else {\n      m.isDisabledutilizado = false;\n      m.isDisableddescartado = false;\n    }\n  }\n\n  inserirMovimentacao(){\n    if(this.validarCampos()){\n      return;\n    }else{\n      let im : InsumomovimentacaoDTO[] = [];\n      im.push(this.itemMov);\n      let qtdvazio : boolean = false;\n      let qtdacimaorigem : boolean = false;\n      this.mov  = {} as MovimentacaoDTO;\n      this.mov.datamovimentacao = this.dateTimeFormatPipe.transform(this.datamovimentacao);\n      this.mov.localizacaoOrigem = this.localizacao;\n      this.mov.localizacaoDestino = this.paralocalizacao;\n      this.mov.itens = im;\n      this.mov.itens.forEach(element => {\n        if(element.quantidadeMovimentada != null){\n          if(element.quantidadeMovimentada == 0){\n            qtdvazio = true;  \n          }else if(element.quantidadeMovimentada > element.quantidadeOrigem){\n            qtdacimaorigem = true;\n          }else{\n            qtdvazio = false;\n  \n            if(element.utilizado == true){\n              let valor = element.quantidadeMovimentada;\n              element.quantidadeUtilizada = valor;\n              element.quantidadeMovimentada = element.quantidadeOrigem - element.quantidadeMovimentada;\n            }\n            if(element.descartado == true){\n              let valor = element.quantidadeMovimentada;\n              element.quantidadeDescartada = valor;\n              element.quantidadeMovimentada = element.quantidadeOrigem - element.quantidadeMovimentada;\n            }\n  \n          }\n        }else{\n          qtdvazio = true; \n        }\n  \n        if(qtdvazio){\n          this.showQtdVazio();\n        }else if(qtdacimaorigem){\n          this.showQtdAcimaDaOrigem();\n        }else{\n          this.movimentacaoService.insert(this.mov).subscribe(response => {\n            this.showInsertOk();\n          },\n          error => {});\n        }\n        console.log(element)\n      });\n     console.log(this.mov);\n    }\n    \n  }\n\n  validarCampos(){\n    if(this.itemMov.quantidadeMovimentada <= 0){\n      this.showMensagem(\"Campo quantidade não pode ser nulo!\")\n      return true;\n    }\n    if(!this.itemMov.utilizado && !this.itemMov.descartado){\n      this.showMensagem(\"Escolha utilizado ou descartado!\")\n      return true;\n    }\n    if(this.itemMov.aprovado == null){\n      this.showMensagem(\"Necessário aprovar ou reprovar o insumo para liberação!\")\n      return true;\n    }\n    return false;\n  }\n\n  showMensagem(msg : string){\n    let alert = this.alertCtrl.create({\n      title: 'Erro',\n      message: msg,\n      enableBackdropDismiss: false,\n      buttons: [\n        {\n          text: 'Ok',\n        }\n      ]\n    });\n    alert.present();\n  }\n\n  showQtdVazio(){\n    let alert = this.alertCtrl.create({\n      title: 'Erro',\n      message: 'Não é possível inserir movimentação sem quantidade!',\n      enableBackdropDismiss: false,\n      buttons: [\n        {\n          text: 'Ok',\n        }\n      ]\n    });\n    alert.present();\n  }\n\n  showQtdAcimaDaOrigem(){\n    let alert = this.alertCtrl.create({\n      title: 'Erro',\n      message: 'Quantidade de movimentação não pode ser maior que a quantidade de origem!',\n      enableBackdropDismiss: false,\n      buttons: [\n        {\n          text: 'Ok',\n        }\n      ]\n    });\n    alert.present();\n  }\n\n  showInsertOk(){\n    let alert = this.alertCtrl.create({\n      title: 'Sucesso',\n      message: 'Liberação efetuada com sucesso!',\n      enableBackdropDismiss: false,\n      buttons: [\n        {\n          text: 'Ok',\n          handler: () => {\n            this.navCtrl.pop();\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/liberar-insumo-controle/liberar-insumo-controle.ts"],"sourceRoot":""}