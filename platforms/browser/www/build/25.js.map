{"version":3,"sources":["../../src/pages/insumo/insumos.module.ts","../../src/pages/insumo/insumos.ts"],"names":[],"mappings":"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","file":"25.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { InsumosPage } from './insumos';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    InsumosPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(InsumosPage),\r\n    \r\n  ],\r\n})\r\nexport class InsumoPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/insumo/insumos.module.ts","import { ConverteListaIonItemDivider } from './../../utils/converte-list-ionitemdivider';\r\nimport { InsumoService } from '../../services/domain/insumo.service';\r\nimport { InsumoDTO } from '../../models/insumo.dto';\r\nimport { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ModalController, LoadingController } from 'ionic-angular';\r\n\r\n/**\r\n * Generated class for the InsumoPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-insumos',\r\n  templateUrl: 'insumos.html',\r\n})\r\nexport class InsumosPage {\r\n\r\n  itens: InsumoDTO[];\r\n  itensInsumos = [];\r\n  page : number = 0;\r\n\r\n  constructor(\r\n    public navCtrl: NavController, \r\n    public navParams: NavParams,\r\n    public insumoService: InsumoService,\r\n    public modalCtrl: ModalController,\r\n    public loadingCtrl: LoadingController) {\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.getItens();\r\n  }\r\n\r\n  openModal() {\r\n    let modal = this.modalCtrl.create('CadastroInsumoPage',{cssClass: 'select-modal' });\r\n    modal.onDidDismiss(() => {\r\n      this.getItens();\r\n    });\r\n    \r\n    modal.present();\r\n  }\r\n\r\n  openModalAjuste() {\r\n    let modal = this.modalCtrl.create('AjusteEstoquePage',{cssClass: 'select-modal' });\r\n    modal.onDidDismiss(() => {\r\n      this.getItens();\r\n    });\r\n    \r\n    modal.present();\r\n  }\r\n\r\n  /*getItens(){\r\n    this.insumoService.findAll()\r\n    .subscribe(response => {\r\n      this.itensInsumos = new ConverteListaIonItemDivider().retornaArrayGroup(response.sort());\r\n    },\r\n    error => {})\r\n  }*/\r\n\r\n  searchInsumo(event){\r\n    let text = event.srcElement.value;\r\n    if (!text) {\r\n      this.getItens();\r\n    }\r\n    this.itensInsumos = this.filterPorts(this.itensInsumos, text);\r\n    console.log(\"aqui: \"+this.itensInsumos);\r\n  }\r\n\r\n  filterPorts(ports: InsumoDTO[], text: string) {\r\n    return ports.filter(port => {\r\n      return port.nomecodalmox.toLowerCase().indexOf(text) !== -1 ;\r\n    });\r\n  }\r\n\r\n  getItens(){\r\n    let loader = this.presentLoading();\r\n    this.itensInsumos = [];\r\n    this.insumoService.findTotosPaginado(this.page, 30)\r\n    .subscribe(response => {\r\n      let start = this.itensInsumos.length;\r\n      this.itensInsumos = this.itensInsumos.concat(response['content']);\r\n      \r\n      let end = this.itensInsumos.length -1;\r\n      //console.log( this.itensInsumos);\r\n      loader.dismiss();\r\n\r\n\r\n    },\r\n    error => {\r\n      loader.dismiss();\r\n    });\r\n\r\n    \r\n  }\r\n\r\n  presentLoading(){\r\n    let loader = this.loadingCtrl.create({content: \"Aguarde...\"});\r\n    loader.present();\r\n    return loader;\r\n  }\r\n\r\n  doRefresh(refresher){\r\n    this.page = 0;\r\n    this.itensInsumos = [];\r\n    this.getItens();\r\n    setTimeout(()=>{\r\n      refresher.complete();\r\n    },1000);\r\n  }\r\n\r\n  doInfinite(infiniteScroll){\r\n    this.page++;\r\n    this.getItens();\r\n    setTimeout(() => {\r\n      infiniteScroll.complete();\r\n    }, 1000);\r\n  }\r\n\r\n  excluirItem(itemId: string){\r\n    this.getItens();\r\n  }\r\n\r\n  editarItem(itemId: string){\r\n    let modal = this.modalCtrl.create('CadastroInsumoPage', {itemId: itemId});\r\n    modal.onDidDismiss(() => {\r\n      this.getItens();\r\n    });\r\n    modal.present();\r\n  }\r\n\r\n  openPdf() {\r\n    this.insumoService.relatorioInsumos().subscribe((response) => {\r\n      const file = new Blob([response], { type: 'application/pdf' });\r\n      const fileURL = URL.createObjectURL(file);\r\n      window.open(fileURL);\r\n    });\r\n  }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/insumo/insumos.ts"],"sourceRoot":""}