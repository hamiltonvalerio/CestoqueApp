{"version":3,"sources":["../../src/pages/rastreamento/rastreamento.module.ts","../../src/pages/rastreamento/rastreamento.ts"],"names":[],"mappings":"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","file":"19.js","sourcesContent":["import { IonicSelectableModule } from 'ionic-selectable';\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { RastreamentoPage } from './rastreamento';\n\n@NgModule({\n  declarations: [\n    RastreamentoPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(RastreamentoPage),\n    IonicSelectableModule,\n  ],\n})\nexport class RastreamentoPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/rastreamento/rastreamento.module.ts","import {\n  BarcodeScanner,\n  BarcodeScannerOptions,\n} from \"@ionic-native/barcode-scanner\";\nimport { InsumomovimentacaoDTO } from \"./../../models/insumomovimentacao.dto\";\nimport { EntradaDTO } from \"./../../models/entrada.dto\";\nimport { InsumoEntradaDTO } from \"./../../models/insumoentrada.dto\";\nimport { InsumolocalizacaoDTO } from \"./../../models/insumolocalizacao.dto\";\nimport { IonicSelectableComponent } from \"ionic-selectable\";\nimport { InsumoService } from \"./../../services/domain/insumo.service\";\nimport { MovimentacaoService } from \"./../../services/domain/movimentacao.service\";\nimport { LocalizacaoService } from \"./../../services/domain/localizacao.service\";\nimport { DateTimeFormatPipe } from \"./../../utils/date-time-format\";\nimport { DateNow } from \"./../../utils/datenow\";\nimport { Component } from \"@angular/core\";\nimport {\n  IonicPage,\n  NavController,\n  NavParams,\n  ViewController,\n  AlertController,\n  LoadingController,\n  Platform,\n} from \"ionic-angular\";\n\n/**\n * Generated class for the RastreamentoPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: \"page-rastreamento\",\n  templateUrl: \"rastreamento.html\",\n})\nexport class RastreamentoPage {\n  lotesLEI: string[];\n  insumolocalizacao: InsumolocalizacaoDTO;\n  insumosLocalizacoes: InsumolocalizacaoDTO[] = [];\n  insumosLocalizacoesSelecionados: InsumolocalizacaoDTO[];\n  insumoEntradaDTO: InsumoEntradaDTO;\n  entradaDTO: EntradaDTO;\n  insumosMovimentacoes: InsumomovimentacaoDTO[] = [];\n\n  options: BarcodeScannerOptions;\n  encodeText: string = \"\";\n  encodeData: any = {};\n  scannedData: string = \"\";\n  plataforma: boolean = true;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public dateNow: DateNow,\n    public dateTimeFormatPipe: DateTimeFormatPipe,\n    public localizacaoService: LocalizacaoService,\n    public movimentacaoService: MovimentacaoService,\n    public viewCtrl: ViewController,\n    public alertCtrl: AlertController,\n    public insumoService: InsumoService,\n    public loadingCtrl: LoadingController,\n    private scanner: BarcodeScanner,\n    public platform: Platform\n  ) {}\n\n  ionViewDidLoad() {\n    if (this.platform.is(\"mobile\")) {\n      this.plataforma = false;\n    } else {\n      this.plataforma = true;\n    }\n    this.loadLotesLEI();\n  }\n\n  scan() {\n    this.options = {\n      prompt: \"Posicione o cÃ³digo de barras!\",\n    };\n    this.scanner.scan(this.options).then(\n      (data) => {\n        this.scannedData = data.text;\n        this.loteLEIBarcode(this.scannedData);\n      },\n      (err) => {\n        console.log(\"Erro: \", err);\n      }\n    );\n  }\n\n  encode() {\n    this.scanner.encode(this.scanner.Encode.TEXT_TYPE, this.encodeText).then(\n      (data) => {\n        this.encodeData = data;\n      },\n      (err) => {\n        console.log(\"Erro: \", err);\n      }\n    );\n  }\n\n  loadLotesLEI() {\n    this.insumoService.findLotesLEIInsumosLocalizacoes().subscribe(\n      (response) => {\n        this.insumosLocalizacoes = response.sort();\n      },\n      (error) => {\n        //loader.dismiss();\n      }\n    );\n  }\n\n  loteLEIBarcode(loteLei: string) {\n    this.insumoService.findInsumoEntradaByLoteLEI(loteLei).subscribe(\n      (response) => {\n        this.insumoEntradaDTO = response;\n      },\n      (error) => {\n        //loader.dismiss();\n      }\n    );\n\n    this.insumoService.findInsumosLocalizacoesByLoteLEI(loteLei).subscribe(\n      (response) => {\n        this.insumosLocalizacoesSelecionados = response.sort();\n      },\n      (error) => {\n        //loader.dismiss();movimentacoesPorLoteLEI\n      }\n    );\n\n    this.movimentacaoService.movimentacoesPorLoteLEI(loteLei).subscribe(\n      (response) => {\n        this.insumosMovimentacoes = response.sort();\n        console.log(this.insumosMovimentacoes);\n      },\n      (error) => {\n        //loader.dismiss();movimentacoesPorLoteLEI\n      }\n    );\n  }\n\n  loteLEIChange(event: {\n    component: IonicSelectableComponent;\n    value: InsumolocalizacaoDTO;\n  }) {\n    this.insumoService\n      .findInsumoEntradaByLoteLEI(event.value.loteLEI)\n      .subscribe(\n        (response) => {\n          this.insumoEntradaDTO = response;\n        },\n        (error) => {\n          //loader.dismiss();\n        }\n      );\n\n    this.insumoService\n      .findInsumosLocalizacoesByLoteLEI(event.value.loteLEI)\n      .subscribe(\n        (response) => {\n          this.insumosLocalizacoesSelecionados = response.sort();\n        },\n        (error) => {\n          //loader.dismiss();movimentacoesPorLoteLEI\n        }\n      );\n\n    this.movimentacaoService\n      .movimentacoesPorLoteLEI(event.value.loteLEI)\n      .subscribe(\n        (response) => {\n          this.insumosMovimentacoes = response.sort();\n          console.log(this.insumosMovimentacoes);\n        },\n        (error) => {\n          //loader.dismiss();movimentacoesPorLoteLEI\n        }\n      );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/rastreamento/rastreamento.ts"],"sourceRoot":""}