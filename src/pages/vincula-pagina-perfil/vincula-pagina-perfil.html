<!--
  Generated template for the VinculaPaginaPerfilPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-toolbar>
    <ion-title>
      Vincula Página ao Perfil
    </ion-title>
    <ion-buttons end>
      <button ion-button (click)="dismiss()" >
        <span ion-text color="primary" showWhen="ios">Cancel</span>
        <ion-icon name="md-close"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content padding>

  <ion-item color="item_entrada">
    <ion-label>Páginas</ion-label>
    <ionic-selectable 
      item-content
      [(ngModel)]="pagina"
      [items]="paginas"
      itemValueField="id"
      itemTextField="nome"
      [canSearch]="true"
      [focusSearchbar]="true"
      (onChange)="paginaChange($event)"
      [hasVirtualScroll]="true" >
      <ng-template ionicSelectableItemTemplate let-item="item" class="my-center-text">
        <ion-item>
          <ion-label text-wrap class="label_12_b">
            {{item.pagina}}
          </ion-label>
        </ion-item>
      </ng-template>
    </ionic-selectable>
  </ion-item>
  <ion-list *ngFor="let item of perfis">
    <ion-item>
      <ion-label>{{ item.nome }}</ion-label>
      <ion-toggle color="secondary" [(ngModel)]="item.selecionado" (ionChange)="changeToggle($event,item.selecionado)"></ion-toggle>
    </ion-item>
  </ion-list>
  <button ion-button block type="submit" (click)="registrar()">Registrar</button>
</ion-content>
